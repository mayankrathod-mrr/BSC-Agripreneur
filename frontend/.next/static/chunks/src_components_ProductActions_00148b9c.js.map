{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/BSC%20Agripreneur/agri-store/frontend/src/components/ProductActions.js"],"sourcesContent":["// frontend/src/components/ProductActions.js\n\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { FaShoppingCart } from \"react-icons/fa\";\nimport { ImSpinner2 } from \"react-icons/im\";\n\nexport default function ProductActions({ product }) {\n  const { user } = useAuth();\n  const [loading, setLoading] = useState(false);\n\n  const handleAddToCart = async () => {\n    if (!user) {\n      alert(\"Please log in to add items to your cart.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const res = await fetch(`http://localhost:5000/api/cart/add`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${user.token}`,\n        },\n        body: JSON.stringify({ productId: product._id, quantity: 1 }),\n      });\n      if (!res.ok) throw new Error(\"Failed to add to cart\");\n      alert(\"✅ Product added to cart successfully!\");\n    } catch (error) {\n      console.error(error);\n      alert(\"❌ Error adding product to cart.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleAddToCart}\n      disabled={product.quantity === 0 || loading}\n      className={`w-full flex items-center justify-center gap-2 font-semibold py-3 px-5 rounded-xl \n        transition-all duration-300 shadow-md\n        ${\n          product.quantity > 0 && !loading\n            ? \"bg-gradient-to-r from-green-600 to-emerald-500 text-white hover:from-green-700 hover:to-emerald-600 active:scale-95\"\n            : \"bg-gray-200 cursor-not-allowed text-gray-500\"\n        }`}\n    >\n      {loading ? (\n        <>\n          <ImSpinner2 className=\"animate-spin\" size={20} />\n          <span>Adding...</span>\n        </>\n      ) : product.quantity > 0 ? (\n        <>\n          <FaShoppingCart size={18} />\n          <span>Add to Cart</span>\n        </>\n      ) : (\n        \"Out of Stock\"\n      )}\n    </button>\n  );\n}\n"],"names":[],"mappings":"AAAA,4CAA4C;;;;;;AAG5C;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS,eAAe,KAAW;QAAX,EAAE,OAAO,EAAE,GAAX;;IACrC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,2IAAO;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,kBAAkB;QACtB,IAAI,CAAC,MAAM;YACT,MAAM;YACN;QACF;QACA,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,MAAO,sCAAqC;gBAC5D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,AAAC,UAAoB,OAAX,KAAK,KAAK;gBACrC;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,WAAW,QAAQ,GAAG;oBAAE,UAAU;gBAAE;YAC7D;YACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;YACd,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QACC,SAAS;QACT,UAAU,QAAQ,QAAQ,KAAK,KAAK;QACpC,WAAW,AAAC,6IAMT,OAHC,QAAQ,QAAQ,GAAG,KAAK,CAAC,UACrB,wHACA;kBAGP,wBACC;;8BACE,6LAAC,+JAAU;oBAAC,WAAU;oBAAe,MAAM;;;;;;8BAC3C,6LAAC;8BAAK;;;;;;;2BAEN,QAAQ,QAAQ,GAAG,kBACrB;;8BACE,6LAAC,mKAAc;oBAAC,MAAM;;;;;;8BACtB,6LAAC;8BAAK;;;;;;;2BAGR;;;;;;AAIR;GAxDwB;;QACL,2IAAO;;;KADF","debugId":null}}]
}