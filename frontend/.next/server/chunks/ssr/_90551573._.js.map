{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/BSC%20Agripreneur/agri-store/frontend/src/app/admin/page.js"],"sourcesContent":["// frontend/src/app/admin/page.js\n\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { useRouter } from \"next/navigation\";\n\nconst AdminPage = () => {\n  const { user } = useAuth();\n  const router = useRouter();\n\n  const [name, setName] = useState(\"\");\n  const [category, setCategory] = useState(\"seeds\");\n  const [description, setDescription] = useState(\"\");\n  const [quantity, setQuantity] = useState(1);\n  const [price, setPrice] = useState(0);\n  const [mainImage, setMainImage] = useState(null);\n  const [afterImage, setAfterImage] = useState(null);\n  const [previewMain, setPreviewMain] = useState(null);\n  const [previewAfter, setPreviewAfter] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(\"\");\n    setSuccess(\"\");\n\n    if (!user || user.role !== \"admin\") {\n      setMessage(\"üö´ You are not authorized.\");\n      return;\n    }\n    if (!mainImage) {\n      setMessage(\"‚ö†Ô∏è Please upload the main product image.\");\n      return;\n    }\n\n    setLoading(true);\n\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"category\", category);\n    formData.append(\"description\", description);\n    formData.append(\"quantity\", Number(quantity));\n    formData.append(\"price\", Number(price));\n    formData.append(\"mainImage\", mainImage);\n    if (afterImage) formData.append(\"afterImage\", afterImage);\n\n    try {\n      const res = await fetch(\"http://localhost:5000/api/products\", {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${user.token}` },\n        body: formData,\n      });\n\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.message || \"Failed to add product\");\n\n      setSuccess(\"‚úÖ Product added successfully!\");\n      setName(\"\");\n      setCategory(\"seeds\");\n      setDescription(\"\");\n      setQuantity(1);\n      setPrice(0);\n      setMainImage(null);\n      setAfterImage(null);\n      setPreviewMain(null);\n      setPreviewAfter(null);\n\n      // Optionally redirect after a short delay\n      setTimeout(() => router.push(\"/products\"), 1500);\n    } catch (error) {\n      setMessage(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!user || user.role !== \"admin\") {\n    return (\n      <p className=\"text-center py-12 text-lg text-red-500\">\n        üö´ Access Denied. You must be an admin to view this page.\n      </p>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen\">\n      <div className=\"container mx-auto py-12 px-4\">\n        <h1 className=\"text-4xl font-bold text-center mb-10 text-green-700\">\n          Admin Dashboard\n        </h1>\n\n        <div className=\"max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-md border border-gray-100\">\n          <h2 className=\"text-2xl font-semibold mb-6 text-gray-800 text-center\">\n            ‚ûï Add New Product\n          </h2>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Product Name */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Product Name\n              </label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                required\n                placeholder=\"Enter product name\"\n                className=\"mt-2 block w-full rounded-lg border-gray-300 px-4 py-2 shadow-sm focus:ring-green-500 focus:border-green-500\"\n              />\n            </div>\n\n            {/* Category */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Category\n              </label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                className=\"mt-2 block w-full rounded-lg border-gray-300 px-4 py-2 shadow-sm focus:ring-green-500 focus:border-green-500\"\n              >\n                <option value=\"seeds\">üå± Seeds</option>\n                <option value=\"fertilizers\">üß™ Fertilizers</option>\n                <option value=\"pesticides\">ü™≤ Pesticides</option>\n              </select>\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Description\n              </label>\n              <textarea\n                rows=\"3\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                required\n                placeholder=\"Write a short product description...\"\n                className=\"mt-2 block w-full rounded-lg border-gray-300 px-4 py-2 shadow-sm focus:ring-green-500 focus:border-green-500\"\n              ></textarea>\n            </div>\n\n            {/* Quantity & Price */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Stock Quantity\n                </label>\n                <input\n                  type=\"number\"\n                  value={quantity}\n                  onChange={(e) => setQuantity(e.target.value)}\n                  min=\"1\"\n                  required\n                  className=\"mt-2 block w-full rounded-lg border-gray-300 px-4 py-2 shadow-sm focus:ring-green-500 focus:border-green-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Price (‚Çπ)\n                </label>\n                <input\n                  type=\"number\"\n                  value={price}\n                  onChange={(e) => setPrice(e.target.value)}\n                  min=\"0\"\n                  step=\"0.01\"\n                  required\n                  className=\"mt-2 block w-full rounded-lg border-gray-300 px-4 py-2 shadow-sm focus:ring-green-500 focus:border-green-500\"\n                />\n              </div>\n            </div>\n\n            {/* Image Uploads */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Main Product Image <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    const file = e.target.files[0];\n                    setMainImage(file);\n                    setPreviewMain(URL.createObjectURL(file));\n                  }}\n                  required\n                  className=\"mt-2 block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"\n                />\n                {previewMain && (\n                  <img\n                    src={previewMain}\n                    alt=\"Main Preview\"\n                    className=\"mt-3 h-32 w-full object-cover rounded-lg border\"\n                  />\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  \"After\" Result Image (Optional)\n                </label>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    const file = e.target.files[0];\n                    setAfterImage(file);\n                    setPreviewAfter(URL.createObjectURL(file));\n                  }}\n                  className=\"mt-2 block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:font-semibold file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100\"\n                />\n                {previewAfter && (\n                  <img\n                    src={previewAfter}\n                    alt=\"After Preview\"\n                    className=\"mt-3 h-32 w-full object-cover rounded-lg border\"\n                  />\n                )}\n              </div>\n            </div>\n\n            {/* Submit */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full py-3 px-4 bg-green-600 text-white font-bold rounded-lg shadow-md hover:bg-green-700 transition disabled:bg-gray-400\"\n            >\n              {loading ? \"‚è≥ Uploading...\" : \"‚úÖ Add Product\"}\n            </button>\n\n            {/* Messages */}\n            {message && (\n              <p className=\"text-center text-sm text-red-500 pt-2\">{message}</p>\n            )}\n            {success && (\n              <p className=\"text-center text-sm text-green-600 font-medium pt-2\">\n                {success}\n              </p>\n            )}\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminPage;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///D:/BSC%20Agripreneur/agri-store/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}